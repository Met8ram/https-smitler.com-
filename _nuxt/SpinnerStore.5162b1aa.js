import{ak as c,al as h,E as u,S as p,u as g,r as o}from"./entry.0a96b526.js";import{f as i,u as S}from"./AuthStore.5abfce41.js";const x=c("ClientMatrixFormStore",{state:()=>({gender:"m",name1:"",date1:"",name2:"",date2:"",childrenName:"",childrenDate:"",childrenGender:"m"}),getters:{},actions:{},persist:{storage:h.localStorage}}),m="https://smitler.com/api/matrix",C=c("MatrixStore",{state:()=>({matrixData:{personal:null,compat:null,children:null}}),getters:{},actions:{leadingZero(t){return t<10?"0"+t.toString():t.toString()},dateConverter(t){return t},async get_matrix(t,s=!1){let a;const r=x(),n=$();n.setLoading(!0);try{if(t==="personal"){a={date1:this.dateConverter(r.date1),name1:r.name1,gender:r.gender,purchase:s};const e=await i.post(`${m}/personal`,a);this.matrixData[t]=e}else if(t==="compat"){a={date1:this.dateConverter(r.date1),name1:r.name1,date2:this.dateConverter(r.date2),name2:r.name2,purchase:s};const e=await i.post(`${m}/compat`,a);this.matrixData[t]=e}else if(t==="children"){a={date1:this.dateConverter(r.childrenDate),name1:r.childrenName,gender:r.childrenGender,purchase:s};const e=await i.post(`${m}/children`,a);this.matrixData[t]=e}}catch{}finally{n.setLoading(!1)}a.matrixType=t;try{u().trackEvent({event:"calculate",action:"click",target:a.matrixType,"target-properties":a})}catch(e){console.log(e)}},async modalPurchase(t){let s="";t=="personal"?s+=(this.matrixData.personal.gender=="m"?"Man ":"Woman ")+"Personal Matrix of Destiny: "+this.matrixData.personal.name1+"("+this.matrixData.personal.date1+")":t=="compat"?s+="Compatibility "+this.matrixData.compat.name1+"("+this.matrixData.compat.date1+")  Ð¸ "+this.matrixData.compat.name2+"("+this.matrixData.compat.date2+")":t=="children"&&(s+="Child ",s+=(this.matrixData.children.gender=="m"?"Boy ":"Girl ")+this.matrixData.children.name1+"("+this.matrixData.children.date1+")"),p.fire({icon:"question",title:"Do you want to fully open?",showCancelButton:!0,cancelButtonText:"Cancel",html:s,confirmButtonText:"Open"}).then(a=>{if(a.isConfirmed){if(!S().isLoggedIn){g().$router.push("/tariff");return}this.get_matrix(t,!0)}})}},persist:{storage:h.localStorage}}),d="https://smitler.com/api/orders",L=c("OrderStore",()=>{o([]),o([]);async function t(n){const e=await i.post(`${d}/check-code`,{...n});return e.discount&&e.discount!==!1?e.discount:!1}async function s(n){return await i.post(`${d}/create`,{...n})}async function a(){this.orders=await i.get(`${d}/my`)}async function r(){this.purchased=await i.get(`${d}/purchased`)}return{checkPromo:t,payout:s,getOrders:a,getPurchased:r}}),D="https://smitler.com/api/tariff",M=c("TariffStore",{state:()=>({tariffsData:{},selectedTariff:o("")}),getters:{},actions:{async setTariff(t){this.selectedTariff=t},async get_tariffs(){const t=await i.get(`${D}/all`);this.tariffsData=t,this.selectedTariff==""&&(this.selectedTariff=t[0].name)}},persist:{storage:h.localStorage}}),f="https://smitler.com/api/articles";c("ArticlesStore",()=>{const t=o([]),s=o([]),a=o({totalCount:0,pageCount:0,currentPage:0});async function r(e=1){const l=await i.post(`${f}/index?page=`+e);this.articlesList=l.articles,this.articlesListMeta=l._meta}async function n(e){if(!this.articleList.hasOwnProperty(e)){const l=await i.get(`${f}/get?slug=`+e);this.articleList[e]=l}}return{articleList:t,articlesList:s,articlesListMeta:a,getArticles:r,getArticle:n}});const $=c("SpinnerStore",{state:()=>({loading:o(!1)}),getters:{},actions:{async setLoading(t){this.loading=t}}});export{L as a,$ as b,C as c,x as d,M as u};
